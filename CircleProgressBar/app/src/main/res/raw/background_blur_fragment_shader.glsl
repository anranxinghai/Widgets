//片段着色器（Fragment Shader）
//version 120
precision mediump float;//设置精度为中等

precision highp int;
uniform 	vec4 _ImageSize;
uniform 	vec4 _ShapeSize;
uniform 	vec4 _NormalizedTransformCenterPoint;
uniform 	mediump float _Swirly;
uniform 	mediump float _Radial;
uniform 	mediump float _HighLight;
uniform 	mediump float _Corrosion;
uniform 	mediump float _Vivid;
uniform 	mediump float _Halo;
uniform lowp sampler2D _MainTex;
uniform lowp sampler2D _BokehMaskExternTex;
uniform lowp sampler2D _BokehMaskTex;
uniform lowp sampler2D _ShapeTex;
varying highp vec2 vs_TEXCOORD0;
#define SV_Target0 gl_FragData[0]
mediump vec4 u_xlat16_0;
lowp vec4 u_xlat10_0;
vec3 u_xlat1;
bool u_xlatb1;
vec4 u_xlat2;
int u_xlati2;
vec3 u_xlat3;
float u_xlat4;
int u_xlati4;
bool u_xlatb4;
mediump float u_xlat16_5;
vec4 u_xlat6;
int u_xlati7;
vec3 u_xlat8;
vec3 u_xlat9;
vec2 u_xlat10;
vec3 u_xlat11;
vec3 u_xlat12;
vec3 u_xlat13;
lowp vec3 u_xlat10_13;
vec3 u_xlat14;
lowp vec3 u_xlat10_14;
vec4 u_xlat15;
lowp vec3 u_xlat10_15;
vec4 u_xlat16;
mediump vec3 u_xlat16_16;
lowp vec3 u_xlat10_17;
vec3 u_xlat18;
lowp vec3 u_xlat10_18;
mediump vec3 u_xlat16_19;
float u_xlat21;
float u_xlat22;
bool u_xlatb22;
vec3 u_xlat24;
mediump vec2 u_xlat16_25;
float u_xlat27;
vec3 u_xlat30;
mediump float u_xlat16_30;
vec2 u_xlat41;
float u_xlat42;
bool u_xlatb42;
float u_xlat43;
bool u_xlatb43;
mediump float u_xlat16_45;
float u_xlat47;
vec2 u_xlat50;
mediump float u_xlat16_50;
float u_xlat61;
lowp float u_xlat10_61;
float u_xlat62;
bool u_xlatb62;
float u_xlat63;
float u_xlat67;
bool u_xlatb67;
lowp float u_xlat10_68;
bool u_xlatb68;
float u_xlat69;
bool u_xlatb69;
bool u_xlatb70;
bool u_xlatb71;
void main()
{
    u_xlat10_0 = texture2D(_MainTex, vs_TEXCOORD0.xy);
    u_xlat1.x = texture2D(_BokehMaskTex, vs_TEXCOORD0.xy).x;
    u_xlatb1 = u_xlat1.x==1.0;
    if(u_xlatb1){
        SV_Target0 = u_xlat10_0;
        return;
    }
    u_xlat1.xy = _ImageSize.zw * _NormalizedTransformCenterPoint.xy;
    u_xlat41.xy = vs_TEXCOORD0.xy * _ImageSize.zw + (-u_xlat1.xy);
    u_xlat2.x = min(abs(u_xlat41.y), abs(u_xlat41.x));
    u_xlat22 = max(abs(u_xlat41.y), abs(u_xlat41.x));
    u_xlat22 = float(1.0) / u_xlat22;
    u_xlat2.x = u_xlat22 * u_xlat2.x;
    u_xlat22 = u_xlat2.x * u_xlat2.x;
    u_xlat42 = u_xlat22 * 0.0208350997 + -0.0851330012;
    u_xlat42 = u_xlat22 * u_xlat42 + 0.180141002;
    u_xlat42 = u_xlat22 * u_xlat42 + -0.330299497;
    u_xlat22 = u_xlat22 * u_xlat42 + 0.999866009;
    u_xlat42 = u_xlat22 * u_xlat2.x;
    u_xlatb62 = abs(u_xlat41.y)<abs(u_xlat41.x);
    u_xlat42 = u_xlat42 * -2.0 + 1.57079637;
    u_xlat42 = u_xlatb62 ? u_xlat42 : float(0.0);
    u_xlat2.x = u_xlat2.x * u_xlat22 + u_xlat42;
    u_xlatb22 = u_xlat41.y<(-u_xlat41.y);
    u_xlat22 = u_xlatb22 ? -3.14159274 : float(0.0);
    u_xlat2.x = u_xlat22 + u_xlat2.x;
    u_xlat22 = min(u_xlat41.y, u_xlat41.x);
    u_xlat42 = max(u_xlat41.y, u_xlat41.x);
    u_xlatb22 = u_xlat22<(-u_xlat22);
    u_xlatb42 = u_xlat42>=(-u_xlat42);
    u_xlatb22 = u_xlatb42 && u_xlatb22;
    u_xlat2.x = (u_xlatb22) ? (-u_xlat2.x) : u_xlat2.x;
    u_xlat22 = dot(u_xlat41.xy, u_xlat41.xy);
    u_xlat22 = sqrt(u_xlat22);
    u_xlat1.x = dot(u_xlat1.xy, u_xlat1.xy);
    u_xlat1.x = sqrt(u_xlat1.x);
    u_xlat1.x = u_xlat22 / u_xlat1.x;
    u_xlat3.xy = u_xlat41.xy / vec2(u_xlat22);
    u_xlat1.x = min(u_xlat1.x, 1.0);
    u_xlat4 = cos(u_xlat2.x);
    u_xlat2.x = sin(u_xlat2.x);
    u_xlat1.xyz = u_xlat1.xxx * vec3(_Radial, _Swirly, _Corrosion);
    u_xlat16_5 = u_xlat1.z * 0.699999988;
    u_xlat16_25.xy = (-u_xlat1.xy) * vec2(0.850000024, 0.850000024) + vec2(1.0, 1.0);
    u_xlat1.x = (-u_xlat2.x);
    u_xlat6.w = u_xlat1.x / u_xlat16_25.x;
    u_xlat6.x = u_xlat2.x / u_xlat16_25.y;
    u_xlat6.yz = vec2(u_xlat4) / u_xlat16_25.xy;
    u_xlat10_61 = texture2D(_BokehMaskExternTex, vs_TEXCOORD0.xy).x;
    u_xlat61 = (-u_xlat10_61) + 1.0;
    u_xlat22 = _ShapeSize.z + -1.0;
    u_xlat22 = u_xlat22 * 0.5;
    u_xlat42 = u_xlat61 * u_xlat22;
    u_xlat42 = floor(u_xlat42);
    u_xlatb62 = 1.0>=u_xlat42;
    u_xlat62 = u_xlatb62 ? 1.0 : float(0.0);
    u_xlat24.xyz = u_xlat10_0.xyz * vec3(u_xlat62);
    u_xlat63 = u_xlat42 + -1.0;
    u_xlati7 = int((-u_xlat42));
    u_xlat27 = float(1.0) / u_xlat61;
    u_xlat61 = u_xlat61 * u_xlat61;
    u_xlat47 = (-u_xlat61) * 0.170000002 + 1.0;
    u_xlat16_25.x = (-_Halo) * 0.5 + 1.0;
    u_xlat3.z = (-u_xlat3.y);
    u_xlat3.xy = u_xlat3.xz * vec2(u_xlat16_5);
    u_xlat3.xy = min(u_xlat3.xy, vec2(0.5, 0.5));
    u_xlat3.xy = max(u_xlat3.xy, vec2(-0.5, -0.5));
    u_xlat3.xy = u_xlat3.xy + vec2(0.5, 0.5);
    u_xlat1.y = u_xlat4;
    u_xlat1.z = u_xlat2.x;
    u_xlat8.xyz = u_xlat24.xyz;
    u_xlat9.xyz = vec3(u_xlat62);
    u_xlati2 = u_xlati7;
    for(int u_xlati_while_true_0 = 0 ; u_xlati_while_true_0 < 0x7FFF ; u_xlati_while_true_0++){
        u_xlat43 = float(u_xlati2);
        u_xlatb4 = u_xlat43>=u_xlat42;
        if(u_xlatb4){break;}
        u_xlat43 = u_xlat43 + 1.0;
        u_xlatb43 = u_xlat63>=u_xlat43;
        u_xlat43 = u_xlatb43 ? 1.0 : float(0.0);
        u_xlat10.x = float(u_xlati2);
        u_xlat11.xyz = u_xlat8.xyz;
        u_xlat12.xyz = u_xlat9.xyz;
        u_xlati4 = u_xlati7;
        for(int u_xlati_while_true_1 = 0 ; u_xlati_while_true_1 < 0x7FFF ; u_xlati_while_true_1++){
            u_xlat67 = float(u_xlati4);
            u_xlatb68 = u_xlat67>=u_xlat42;
            if(u_xlatb68){break;}
            u_xlat10.y = float(u_xlati4);
            u_xlat50.xy = vs_TEXCOORD0.xy * _ImageSize.zw + u_xlat10.xy;
            u_xlat50.xy = u_xlat50.xy / _ImageSize.zw;
            u_xlat10_13.xyz = texture2D(_MainTex, u_xlat50.xy).xyz;
            u_xlat10_68 = texture2D(_BokehMaskTex, u_xlat50.xy).x;
            u_xlat50.xy = vec2(u_xlat27) * u_xlat10.xy;
            u_xlat14.x = dot(u_xlat6.yw, u_xlat50.xy);
            u_xlat14.y = dot(u_xlat6.xz, u_xlat50.xy);
            u_xlat15.x = dot(u_xlat1.yz, u_xlat14.xy);
            u_xlat15.y = dot(u_xlat1.xy, u_xlat14.xy);
            u_xlat50.xy = u_xlat15.xy * vec2(u_xlat47) + vec2(u_xlat22);
            u_xlat50.xy = u_xlat50.xy / _ShapeSize.zw;
            u_xlat16_50 = (-u_xlat50.x) + 1.0;
            u_xlat50.x = u_xlat16_50;
            u_xlat10_14.xyz = texture2D(_ShapeTex, u_xlat50.xy).xyz;
            u_xlat16_5 = dot(vec3(0.298999995, 0.587000012, 0.114), u_xlat10_13.xyz);
            u_xlat16_45 = u_xlat16_5 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_45;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * _HighLight;
            u_xlat16_45 = u_xlat16_45 * 100.0;
            u_xlat69 = u_xlat61 * u_xlat16_45;
            u_xlatb71 = u_xlat16_5>=u_xlat16_25.x;
            u_xlat16_5 = (u_xlatb71) ? 1.0 : 0.0;
            u_xlat69 = u_xlat69 * u_xlat16_5 + 1.0;
            u_xlat14.xyz = vec3(u_xlat69) * u_xlat10_14.xyz;
            u_xlat15.xy = (-u_xlat3.xy) + u_xlat50.xy;
            u_xlat69 = dot(u_xlat15.xy, u_xlat15.xy);
            u_xlat69 = sqrt(u_xlat69);
            u_xlatb69 = u_xlat69>=0.5;
            u_xlat69 = u_xlatb69 ? 1.0 : float(0.0);
            u_xlat14.xyz = vec3(u_xlat69) * (-u_xlat14.xyz) + u_xlat14.xyz;
            u_xlat16_5 = (-u_xlat10_68) + 1.0;
            u_xlat16_16.xyz = vec3(u_xlat16_5) * u_xlat14.xyz;
            u_xlat13.xyz = u_xlat16_16.xyz * u_xlat10_13.xyz + u_xlat11.xyz;
            u_xlat14.xyz = u_xlat14.xyz * vec3(u_xlat16_5) + u_xlat12.xyz;
            u_xlat67 = u_xlat67 + 1.0;
            u_xlatb67 = u_xlat63>=u_xlat67;
            u_xlat67 = u_xlatb67 ? 1.0 : float(0.0);
            u_xlat15 = u_xlat10.xyxy + vec4(0.0, 1.0, 1.0, 0.0);
            u_xlat16 = vs_TEXCOORD0.xyxy * _ImageSize.zwzw + u_xlat15;
            u_xlat16 = u_xlat16 / _ImageSize.zwzw;
            u_xlat10_17.xyz = texture2D(_MainTex, u_xlat16.xy).xyz;
            u_xlat10_68 = texture2D(_BokehMaskTex, u_xlat16.xy).x;
            u_xlat15 = vec4(u_xlat27) * u_xlat15;
            u_xlat18.x = dot(u_xlat6.yw, u_xlat15.xy);
            u_xlat18.y = dot(u_xlat6.xz, u_xlat15.xy);
            u_xlat15.x = dot(u_xlat1.yz, u_xlat18.xy);
            u_xlat15.y = dot(u_xlat1.xy, u_xlat18.xy);
            u_xlat50.xy = u_xlat15.xy * vec2(u_xlat47) + vec2(u_xlat22);
            u_xlat50.xy = u_xlat50.xy / _ShapeSize.zw;
            u_xlat16_50 = (-u_xlat50.x) + 1.0;
            u_xlat50.x = u_xlat16_50;
            u_xlat10_18.xyz = texture2D(_ShapeTex, u_xlat50.xy).xyz;
            u_xlat16_5 = dot(vec3(0.298999995, 0.587000012, 0.114), u_xlat10_17.xyz);
            u_xlat16_45 = u_xlat16_5 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_45;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * _HighLight;
            u_xlat16_45 = u_xlat16_45 * 100.0;
            u_xlat69 = u_xlat61 * u_xlat16_45;
            u_xlatb71 = u_xlat16_5>=u_xlat16_25.x;
            u_xlat16_5 = (u_xlatb71) ? 1.0 : 0.0;
            u_xlat69 = u_xlat69 * u_xlat16_5 + 1.0;
            u_xlat18.xyz = vec3(u_xlat69) * u_xlat10_18.xyz;
            u_xlat15.xy = (-u_xlat3.xy) + u_xlat50.xy;
            u_xlat69 = dot(u_xlat15.xy, u_xlat15.xy);
            u_xlat69 = sqrt(u_xlat69);
            u_xlatb69 = u_xlat69>=0.5;
            u_xlat69 = u_xlatb69 ? 1.0 : float(0.0);
            u_xlat18.xyz = vec3(u_xlat69) * (-u_xlat18.xyz) + u_xlat18.xyz;
            u_xlat16_5 = (-u_xlat10_68) + 1.0;
            u_xlat16_5 = u_xlat67 * u_xlat16_5;
            u_xlat16_19.xyz = vec3(u_xlat16_5) * u_xlat18.xyz;
            u_xlat13.xyz = u_xlat16_19.xyz * u_xlat10_17.xyz + u_xlat13.xyz;
            u_xlat14.xyz = u_xlat18.xyz * vec3(u_xlat16_5) + u_xlat14.xyz;
            u_xlat10_17.xyz = texture2D(_MainTex, u_xlat16.zw).xyz;
            u_xlat10_68 = texture2D(_BokehMaskTex, u_xlat16.zw).x;
            u_xlat15.x = dot(u_xlat6.yw, u_xlat15.zw);
            u_xlat15.y = dot(u_xlat6.xz, u_xlat15.zw);
            u_xlat18.x = dot(u_xlat1.yz, u_xlat15.xy);
            u_xlat18.y = dot(u_xlat1.xy, u_xlat15.xy);
            u_xlat50.xy = u_xlat18.xy * vec2(u_xlat47) + vec2(u_xlat22);
            u_xlat50.xy = u_xlat50.xy / _ShapeSize.zw;
            u_xlat16_50 = (-u_xlat50.x) + 1.0;
            u_xlat50.x = u_xlat16_50;
            u_xlat10_15.xyz = texture2D(_ShapeTex, u_xlat50.xy).xyz;
            u_xlat16_5 = dot(vec3(0.298999995, 0.587000012, 0.114), u_xlat10_17.xyz);
            u_xlat16_45 = u_xlat16_5 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_45;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * _HighLight;
            u_xlat16_45 = u_xlat16_45 * 100.0;
            u_xlat69 = u_xlat61 * u_xlat16_45;
            u_xlatb71 = u_xlat16_5>=u_xlat16_25.x;
            u_xlat16_5 = (u_xlatb71) ? 1.0 : 0.0;
            u_xlat69 = u_xlat69 * u_xlat16_5 + 1.0;
            u_xlat15.xyz = vec3(u_xlat69) * u_xlat10_15.xyz;
            u_xlat18.xy = (-u_xlat3.xy) + u_xlat50.xy;
            u_xlat69 = dot(u_xlat18.xy, u_xlat18.xy);
            u_xlat69 = sqrt(u_xlat69);
            u_xlatb69 = u_xlat69>=0.5;
            u_xlat69 = u_xlatb69 ? 1.0 : float(0.0);
            u_xlat15.xyz = vec3(u_xlat69) * (-u_xlat15.xyz) + u_xlat15.xyz;
            u_xlat16_5 = (-u_xlat10_68) + 1.0;
            u_xlat16_5 = u_xlat43 * u_xlat16_5;
            u_xlat16_19.xyz = vec3(u_xlat16_5) * u_xlat15.xyz;
            u_xlat13.xyz = u_xlat16_19.xyz * u_xlat10_17.xyz + u_xlat13.xyz;
            u_xlat14.xyz = u_xlat15.xyz * vec3(u_xlat16_5) + u_xlat14.xyz;
            u_xlat67 = u_xlat43 + u_xlat67;
            u_xlatb67 = u_xlat67>=2.0;
            u_xlat67 = u_xlatb67 ? 1.0 : float(0.0);
            u_xlat30.xy = u_xlat10.xy + vec2(1.0, 1.0);
            u_xlat15.xy = vs_TEXCOORD0.xy * _ImageSize.zw + u_xlat30.xy;
            u_xlat15.xy = u_xlat15.xy / _ImageSize.zw;
            u_xlat10_17.xyz = texture2D(_MainTex, u_xlat15.xy).xyz;
            u_xlat10_68 = texture2D(_BokehMaskTex, u_xlat15.xy).x;
            u_xlat30.xy = vec2(u_xlat27) * u_xlat30.xy;
            u_xlat15.x = dot(u_xlat6.yw, u_xlat30.xy);
            u_xlat15.y = dot(u_xlat6.xz, u_xlat30.xy);
            u_xlat18.x = dot(u_xlat1.yz, u_xlat15.xy);
            u_xlat18.y = dot(u_xlat1.xy, u_xlat15.xy);
            u_xlat30.xy = u_xlat18.xy * vec2(u_xlat47) + vec2(u_xlat22);
            u_xlat30.xy = u_xlat30.xy / _ShapeSize.zw;
            u_xlat16_30 = (-u_xlat30.x) + 1.0;
            u_xlat30.x = u_xlat16_30;
            u_xlat10_15.xyz = texture2D(_ShapeTex, u_xlat30.xy).xyz;
            u_xlat16_5 = dot(vec3(0.298999995, 0.587000012, 0.114), u_xlat10_17.xyz);
            u_xlat16_45 = u_xlat16_5 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_45;
            u_xlat16_45 = u_xlat16_45 * u_xlat16_5;
            u_xlat16_45 = u_xlat16_45 * _HighLight;
            u_xlat16_45 = u_xlat16_45 * 100.0;
            u_xlat69 = u_xlat61 * u_xlat16_45;
            u_xlatb70 = u_xlat16_5>=u_xlat16_25.x;
            u_xlat16_5 = (u_xlatb70) ? 1.0 : 0.0;
            u_xlat69 = u_xlat69 * u_xlat16_5 + 1.0;
            u_xlat15.xyz = vec3(u_xlat69) * u_xlat10_15.xyz;
            u_xlat18.xy = (-u_xlat3.xy) + u_xlat30.xy;
            u_xlat69 = dot(u_xlat18.xy, u_xlat18.xy);
            u_xlat69 = sqrt(u_xlat69);
            u_xlatb69 = u_xlat69>=0.5;
            u_xlat69 = u_xlatb69 ? 1.0 : float(0.0);
            u_xlat30.xyz = vec3(u_xlat69) * (-u_xlat15.xyz) + u_xlat15.xyz;
            u_xlat16_5 = (-u_xlat10_68) + 1.0;
            u_xlat16_5 = u_xlat67 * u_xlat16_5;
            u_xlat16_19.xyz = vec3(u_xlat16_5) * u_xlat30.xyz;
            u_xlat11.xyz = u_xlat16_19.xyz * u_xlat10_17.xyz + u_xlat13.xyz;
            u_xlat12.xyz = u_xlat30.xyz * vec3(u_xlat16_5) + u_xlat14.xyz;
            u_xlati4 = u_xlati4 + 2;
        }
        u_xlat8.xyz = u_xlat11.xyz;
        u_xlat9.xyz = u_xlat12.xyz;
        u_xlati2 = u_xlati2 + 2;
    }
    u_xlatb1 = 0.00100000005>=u_xlat9.x;
    u_xlat21 = u_xlatb1 ? 1.0 : float(0.0);
    u_xlat2.xyz = max(u_xlat9.xyz, vec3(0.00100000005, 0.00100000005, 0.00100000005));
    u_xlat2.xyz = u_xlat8.xyz / u_xlat2.xyz;
    u_xlat16_5 = (u_xlatb1) ? 0.0 : 1.0;
    u_xlat2.w = 1.0;
    u_xlat16_0 = u_xlat10_0 * vec4(u_xlat21);
    u_xlat16_0 = u_xlat2 * vec4(u_xlat16_5) + u_xlat16_0;
    u_xlat16_5 = dot(u_xlat16_0.xyz, vec3(0.298999995, 0.587000012, 0.114));
    u_xlat16_25.x = _Vivid * 0.270000011 + 1.0;
    u_xlat16_19.xyz = u_xlat16_0.xyz + (-vec3(u_xlat16_5));
    SV_Target0.xyz = u_xlat16_25.xxx * u_xlat16_19.xyz + vec3(u_xlat16_5);
    SV_Target0.xyz = clamp(SV_Target0.xyz, 0.0, 1.0);
    SV_Target0.w = u_xlat16_0.w;
    SV_Target0.w = clamp(SV_Target0.w, 0.0, 1.0);
    return;
}
